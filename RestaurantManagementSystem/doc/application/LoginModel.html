<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_102) on Mon Dec 19 15:48:26 GMT 2016 -->
<title>LoginModel</title>
<meta name="date" content="2016-12-19">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LoginModel";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../application/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoginModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../application/LoginController.html" title="class in application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../application/Main.html" title="class in application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?application/LoginModel.html" target="_top">Frames</a></li>
<li><a href="LoginModel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">application</div>
<h2 title="Class LoginModel" class="title">Class LoginModel</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>application.LoginModel</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../application/StaffScreenModel.html" title="class in application">StaffScreenModel</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LoginModel</span>
extends java.lang.Object</pre>
<div class="block">The LoginModel class contains all the methods that the LoginScreenController class uses to access and interact with the database, 
 this class focuses on verifying the login details a potential user may enter, it also initialises the necessary tables that this 
 application will need to function at the bare minimum if the local RestaurantDB.sqlite file is deleted and a new one is created 
 with no tables by default. There is also a special emergency 'admin' account inserted into the database to allow access back in if the 
 database is deleted.
 The methods and structure of this class are derived from the tutorials available from the ProgrammingKnowledge playlist 
 JavaFX tutorial for beginners : https://www.youtube.com/watch?v=9YrmON6nlEw&list=PLS1QulWo1RIaUGP446_pWLgTZPiFizEMq
 This class makes use of a 3rd party library, the SQLite JDBC Driver 
 available from https://bitbucket.org/xerial/sqlite-jdbc/downloads</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>jarrod joshua</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.sql.Connection</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#connection">connection</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../application/LoginModel.html#LoginModel--">LoginModel</a></span>()</code>
<div class="block">The LoginModel class constructor initialises a connection to the SQLite database and initialises tables that are essential to the system
 if they are not found.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#initActivityLogTable--">initActivityLogTable</a></span>()</code>
<div class="block">Creates an 'activityLog' table in the database in case it does not already exist in the event of the database file being lost.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#initialiseStaffTable--">initialiseStaffTable</a></span>()</code>
<div class="block">Creates a staff table if one does not already exist and also inserts a record allowing a special 'admin' account user to login
 This is included in case the database file is deleted and there is still an emergency way back into the application as all the staff
 accounts would be missing in that case.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#initMenuTable--">initMenuTable</a></span>()</code>
<div class="block">Creates a 'menu' table into the database in case it does not already exist in the event of the database file being lost.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#initOrdersTable--">initOrdersTable</a></span>()</code>
<div class="block">Creates an 'orders' table in the database in case it does not already exist in the event of the database file being lost.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#initStoredOrdersTable--">initStoredOrdersTable</a></span>()</code>
<div class="block">Creates an 'storedOrders' table in case it does not already exist in the event of the database file being lost.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#insertAdminAccount--">insertAdminAccount</a></span>()</code>
<div class="block">Inserts a special admin account into the staff table, allowing access back into the application if the database file is not found</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#isDbConnected--">isDbConnected</a></span>()</code>
<div class="block">Determines if the database is connected.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#saveActivityEntryToDB-java.lang.String-java.lang.String-java.lang.String-">saveActivityEntryToDB</a></span>(java.lang.String&nbsp;user,
                     java.lang.String&nbsp;act,
                     java.lang.String&nbsp;timestamp)</code>
<div class="block">This method saves a record describing an action the currently logged in user has just performed and saves an entry with
 the action, time and username of the currently logged in account into the database
 the managers can then look through</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#verifyManagerLogin-java.lang.String-java.lang.String-">verifyManagerLogin</a></span>(java.lang.String&nbsp;user,
                  java.lang.String&nbsp;pass)</code>
<div class="block">Determines is user has manager access.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../application/LoginModel.html#verifyStaffLogin-java.lang.String-java.lang.String-">verifyStaffLogin</a></span>(java.lang.String&nbsp;user,
                java.lang.String&nbsp;pass)</code>
<div class="block">Determines if user has staff level access only.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="connection">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>connection</h4>
<pre>private&nbsp;java.sql.Connection connection</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LoginModel--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LoginModel</h4>
<pre>LoginModel()</pre>
<div class="block">The LoginModel class constructor initialises a connection to the SQLite database and initialises tables that are essential to the system
 if they are not found.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isDbConnected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDbConnected</h4>
<pre>boolean&nbsp;isDbConnected()</pre>
<div class="block">Determines if the database is connected.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean : true if the database is connected, false is there is no connection found.</dd>
</dl>
</li>
</ul>
<a name="verifyStaffLogin-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyStaffLogin</h4>
<pre>boolean&nbsp;verifyStaffLogin(java.lang.String&nbsp;user,
                         java.lang.String&nbsp;pass)
                  throws java.sql.SQLException</pre>
<div class="block">Determines if user has staff level access only.
 This method takes a username password string pair entered into the login GUI and then searches the database to determine if 
 the login input corresponds to a staff account in the database and if it allows staff level access to the application,
 i.e. registering orders etc but not manager level actions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - A string input that will be searched for in 'username' field in the 'staff' table</dd>
<dd><code>pass</code> - A string input that will be searched for in the 'password' field in the 'staff' table</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean : true if staff access is permitted or false if not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="verifyManagerLogin-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyManagerLogin</h4>
<pre>boolean&nbsp;verifyManagerLogin(java.lang.String&nbsp;user,
                           java.lang.String&nbsp;pass)
                    throws java.sql.SQLException</pre>
<div class="block">Determines is user has manager access.
 This method takes a username password string pair entered into the login GUI and then searches the database to determine if 
 the login input is in the system and if it allows manager level access to the application, full access to all features of the 
 application</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - A string input that will be searched for in 'username' field in the 'staff' table</dd>
<dd><code>pass</code> - A string input that will be searched for in the 'password' field in the 'staff' table</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean true if the user has manager level access to the program, or false if not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="saveActivityEntryToDB-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveActivityEntryToDB</h4>
<pre>public&nbsp;void&nbsp;saveActivityEntryToDB(java.lang.String&nbsp;user,
                                  java.lang.String&nbsp;act,
                                  java.lang.String&nbsp;timestamp)
                           throws java.sql.SQLException</pre>
<div class="block">This method saves a record describing an action the currently logged in user has just performed and saves an entry with
 the action, time and username of the currently logged in account into the database
 the managers can then look through</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - the 'staff'username attribute of the currently logged in user</dd>
<dd><code>act</code> - a string describing what the current user has just done for tracking user activity in the logs managers see</dd>
<dd><code>timestamp</code> - a formatted string containing the date and time of the action</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.sql.SQLException</code></dd>
</dl>
</li>
</ul>
<a name="initialiseStaffTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialiseStaffTable</h4>
<pre>void&nbsp;initialiseStaffTable()</pre>
<div class="block">Creates a staff table if one does not already exist and also inserts a record allowing a special 'admin' account user to login
 This is included in case the database file is deleted and there is still an emergency way back into the application as all the staff
 accounts would be missing in that case.</div>
</li>
</ul>
<a name="insertAdminAccount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertAdminAccount</h4>
<pre>void&nbsp;insertAdminAccount()</pre>
<div class="block">Inserts a special admin account into the staff table, allowing access back into the application if the database file is not found</div>
</li>
</ul>
<a name="initOrdersTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initOrdersTable</h4>
<pre>void&nbsp;initOrdersTable()</pre>
<div class="block">Creates an 'orders' table in the database in case it does not already exist in the event of the database file being lost.
 This table holds working orders of tables currently being served</div>
</li>
</ul>
<a name="initMenuTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initMenuTable</h4>
<pre>void&nbsp;initMenuTable()</pre>
<div class="block">Creates a 'menu' table into the database in case it does not already exist in the event of the database file being lost.
 This table holds the current menu the restaurant offers.</div>
</li>
</ul>
<a name="initStoredOrdersTable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initStoredOrdersTable</h4>
<pre>void&nbsp;initStoredOrdersTable()</pre>
<div class="block">Creates an 'storedOrders' table in case it does not already exist in the event of the database file being lost.
 This table holds records of previously completed orders or orders imported by managers, they are kept separate from 
 working orders so as to avoid confusion and ambiguity with working orders which are the immediate priority of the 
 staff to deal with.</div>
</li>
</ul>
<a name="initActivityLogTable--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>initActivityLogTable</h4>
<pre>void&nbsp;initActivityLogTable()</pre>
<div class="block">Creates an 'activityLog' table in the database in case it does not already exist in the event of the database file being lost.
 This is where all the user information is stored and managers can track their employees behaviour on the program.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../application/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoginModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../application/LoginController.html" title="class in application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../application/Main.html" title="class in application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?application/LoginModel.html" target="_top">Frames</a></li>
<li><a href="LoginModel.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
